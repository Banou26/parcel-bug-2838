{"version":3,"sources":["../index.js","test.spec.js"],"names":["observable","Observable","create","observer","bundler","ParcelBundler","target","on","entryFiles","next","name","buildStartTime","Date","now","bundle","_","stop","pipe","subscribe","bundleWrapper","console","log","test"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,QAAA,KAAA,GAAA,OAAA,CAAA,MAAA,CAAA;;AACA,QAAA,UAAA,GAAA,OAAA,CAAA,gBAAA,CAAA;;AACA,QAAA,cAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;;;;;;;;AAEA,QAAMA,UAAU,GACd,CAAA,GAAA,KAAA,CAAA,EAAA,EACEC,KAAAA,CAAAA,UAAAA,CAAWC,MAAXD,CAAkBE,UAAAA,QAAQ,EAAI;AAC5B,UAAMC,OAAO,GAAG,IAAIC,cAAAA,CAAAA,OAAJ,CAAkB,gBAAlB,EAAoC;AAClDC,QAAAA,MAAM,EAAE,SAD0C,CAElD;;AAFkD,OAApC,CAAhB;AAKAF,MAAAA,OAAO,CAACG,EAARH,CAAW,YAAXA,EAAyBI,UAAAA,UAAU;AAAA,eACjCL,QAAQ,CAACM,IAATN,CAAc;AAAEO,UAAAA,IAAI,EAAE,YAAR;AAAsBF,UAAAA,UAAtB,EAAsBA,UAAtB;AAAmCG,UAAAA,cAAc,EAAEC,IAAI,CAACC,GAALD;AAAnD,SAAdT,CADiC;AAAA,OAAnCC;AAGAA,MAAAA,OAAO,CAACU,MAARV;AACA,aAAOW,UAAAA,CAAC;AAAA,eAAIX,OAAO,CAACY,IAARZ,EAAJ;AAAA,OAAR;AAVF,KAAAH,CADF,EAaEgB,IAbF,CAcE,CAAA,GAAA,UAAA,CAAA,QAAA,EAAWb,UAAAA,OAAF;AAAA,aACP,CAAA,GAAA,KAAA,CAAA,KAAA,EACIA,OAAO,CAACa,IAARb,CACE,CAAA,GAAA,UAAA,CAAA,MAAA,EAAO;AAAA,YAAGM,IAAH,QAAGA,IAAH;AAAA,eAAcA,IAAI,KAAK,YAAvB;AAAA,OAAP,CADFN,CADJ,EAIIA,OAAO,CAACa,IAARb,CACE,CAAA,GAAA,UAAA,CAAA,MAAA,EAAO;AAAA,YAAGM,IAAH,SAAGA,IAAH;AAAA,eAAcA,IAAI,KAAK,SAAvB;AAAA,OAAP,CADFN,CAJJ,CADO;AAAA,KAAT,CAdF,CADF;AA2BAJ,IAAAA,UAAU,CAACkB,SAAXlB,CAAqBmB,UAAAA,aAAa;AAAA,aAAIC,OAAO,CAACC,GAARD,eAAmBD,aAAa,CAACT,IAAjCU,UAAJ;AAAA,KAAlCpB;;;;;;AC/BA;;;;AAEAoB,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBC,cAAnB","file":"test.spec.map","sourceRoot":"..","sourcesContent":["import { Observable, of, merge } from 'rxjs'\r\nimport { mergeMap, filter } from 'rxjs/operators'\r\nimport ParcelBundler from 'parcel-bundler'\r\n\r\nconst observable =\r\n  of(\r\n    Observable.create(observer => {\r\n      const bundler = new ParcelBundler('./test.spec.js', {\r\n        target: 'browser',\r\n        // hmr: false // Throw even more errors\r\n      })\r\n      \r\n      bundler.on('buildStart', entryFiles  =>\r\n        observer.next({ name: 'buildStart', entryFiles , buildStartTime: Date.now() }))\r\n\r\n      bundler.bundle()\r\n      return _ => bundler.stop()\r\n    })\r\n  ).pipe(\r\n    mergeMap(( bundler ) =>\r\n      merge(\r\n          bundler.pipe(\r\n            filter(({ name }) => name === 'buildStart')\r\n          ),\r\n          bundler.pipe(\r\n            filter(({ name }) => name === 'bundled')\r\n          )\r\n      )\r\n    )\r\n  )\r\n\r\nobservable.subscribe(bundleWrapper => console.log(`\\n\\n${bundleWrapper.name}\\n\\n`))\r\n","import test from './dist/index.js'\r\n\r\nconsole.log('foo', test)\r\n"]}